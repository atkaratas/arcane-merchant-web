<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcane Void Portal Experiment</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #000;
            /* Deep void background */
            background: radial-gradient(circle at center, #0a0f1e 0%, #000000 100%);
        }
        
        #portalCanvas {
            display: block;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>

    <canvas id="portalCanvas"></canvas>

    <script>
        const canvas = document.getElementById('portalCanvas');
        const ctx = canvas.getContext('2d');

        let width, height, centerX, centerY;
        let time = 0;

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            centerX = width / 2;
            centerY = height / 2;
        }

        window.addEventListener('resize', resize);
        resize();

        // Portal Configuration
        const config = {
            radius: 200,
            ringThickness: 20,
            colors: {
                core: '#ffffff',
                inner: '#00ffff', // Cyan
                mid: '#0066ff',   // Blue
                outer: '#9900ff'  // Purple
            }
        };

        function drawPortal() {
            ctx.clearRect(0, 0, width, height);
            
            // Adjust radius based on screen size (responsive)
            const baseRadius = Math.min(width, height) * 0.25; // Larger base
            
            // Slower time
            const t = time * 0.5;

            // 1. Radiant Outer Glow (Blueish)
            const glowRadius = baseRadius * 2.5 + Math.sin(t * 0.05) * 20;
            const outerGlow = ctx.createRadialGradient(centerX, centerY, baseRadius * 0.5, centerX, centerY, glowRadius);
            outerGlow.addColorStop(0, 'rgba(0, 100, 255, 0.0)');
            outerGlow.addColorStop(0.4, 'rgba(0, 100, 255, 0.15)');
            outerGlow.addColorStop(1, 'rgba(0, 0, 50, 0)');
            
            ctx.fillStyle = outerGlow;
            ctx.fillRect(0, 0, width, height);

            // VERTICAL ELLIPSE TRANSFORM
            // We compress width to 0.6 to make it a tall ellipse
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.scale(0.6, 1); 

            // 2. Fluid Vortex Swirls (Inner)
            // More layers, organic movement
            const swirlCount = 12;
            for (let i = 0; i < swirlCount; i++) {
                ctx.save();
                
                // Organic speed: Sine wave based speed fluctuation
                // Each layer moves at a slightly different, fluctuating speed
                const layerSpeed = 0.005 * (i + 1) + Math.sin(t * 0.01 + i) * 0.002; 
                const rotation = t * layerSpeed + (i * (Math.PI * 2 / swirlCount));
                
                ctx.rotate(rotation);
                
                // Fluid Pulsation
                const scale = 1 + Math.sin(t * 0.03 + i) * 0.08;
                ctx.scale(scale, scale);

                const grad = ctx.createLinearGradient(-baseRadius, -baseRadius, baseRadius, baseRadius);
                grad.addColorStop(0, 'rgba(0, 255, 255, 0)');
                grad.addColorStop(0.5, `rgba(0, 220, 255, ${0.15 - (i * 0.01)})`); // Cyan/Blue
                grad.addColorStop(1, 'rgba(50, 100, 255, 0)');

                ctx.beginPath();
                // Tapered fluid arcs
                ctx.arc(0, 0, baseRadius * (0.6 + i * 0.1), 0, Math.PI * 1.5);
                ctx.strokeStyle = grad;
                ctx.lineWidth = baseRadius * 0.15; // Thicker, softer lines
                ctx.lineCap = 'round';
                
                // Add blur for fluid look
                ctx.shadowBlur = 20;
                ctx.shadowColor = "rgba(0, 200, 255, 0.5)";
                
                ctx.stroke();
                
                ctx.restore();
            }

            // 3. The Main Ring (Vertical Ellipse)
            ctx.save();
            
            // Ring Body
            ctx.beginPath();
            ctx.arc(0, 0, baseRadius, 0, Math.PI * 2);
            ctx.lineWidth = baseRadius * 0.05;
            
            // Bevel Gradient
            const ringGrad = ctx.createLinearGradient(-baseRadius, -baseRadius, baseRadius, baseRadius);
            ringGrad.addColorStop(0, '#88ccff'); // Light Blue highlight
            ringGrad.addColorStop(0.5, '#0044aa'); // Deep Blue
            ringGrad.addColorStop(1, '#00081a'); // Dark Shadow
            
            ctx.strokeStyle = ringGrad;
            ctx.shadowBlur = 15;
            ctx.shadowColor = "#0088ff";
            ctx.stroke();
            
            ctx.restore();

            // 4. Core Pulse (Bright White/Cyan Center)
            ctx.save();
            const corePulse = Math.sin(t * 0.05) * 0.05 + 0.8;
            ctx.scale(corePulse, corePulse);
            
            const coreGrad = ctx.createRadialGradient(0, 0, 0, 0, 0, baseRadius * 0.6);
            coreGrad.addColorStop(0, 'rgba(255, 255, 255, 0.95)');
            coreGrad.addColorStop(0.2, 'rgba(200, 255, 255, 0.8)');
            coreGrad.addColorStop(0.6, 'rgba(0, 100, 255, 0.2)');
            coreGrad.addColorStop(1, 'rgba(0, 0, 0, 0)');
            
            ctx.fillStyle = coreGrad;
            ctx.beginPath();
            ctx.arc(0, 0, baseRadius * 0.6, 0, Math.PI * 2);
            ctx.fill();
            ctx.restore();

            // Restore from Vertical Ellipse Transform
            ctx.restore(); 

            // 5. Ground Shadow (Fake Perspective)
            // Needs to be outside the scale(0.6, 1) to look flat on ground
            ctx.save();
            ctx.translate(centerX, centerY + baseRadius * 1.2); // Position below
            ctx.scale(1, 0.15); // Flatten to ellipse
            
            const shadowGrad = ctx.createRadialGradient(0, 0, 0, 0, 0, baseRadius * 0.8);
            shadowGrad.addColorStop(0, 'rgba(0, 50, 150, 0.6)'); // Blue shadow
            shadowGrad.addColorStop(1, 'rgba(0, 0, 0, 0)');
            
            ctx.fillStyle = shadowGrad;
            ctx.beginPath();
            ctx.arc(0, 0, baseRadius * 0.8, 0, Math.PI * 2);
            ctx.fill();
            ctx.restore();

            // Animation Loop
            time += 1;
            requestAnimationFrame(drawPortal);
        }

        drawPortal();
    </script>
</body>
</html>